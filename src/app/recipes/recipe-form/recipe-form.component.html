<div class="card-container">
  <mat-card>
    <mat-card-header>
      <h2>Add a new recipe</h2>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" autocomplete="off" (ngSubmit)="onSaveRecipe()">
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name">
        </mat-form-field>
        <div>
          <button mat-flat-button type="button" style="margin-bottom: 20px;" color="primary"
            (click)="addIngredient()">Add ingredient</button>
          <div formArrayName="ingredients"
            *ngFor="let ingredientForm of form.controls.ingredients.controls; index as i">
            <form [formGroup]="ingredientForm" class="ingredient-form">

              <!-- <div > -->
                <mat-form-field  class="ingredient-name" appearance="fill">
                  <mat-label>Ingredient: </mat-label>
                  <input matInput type="text" formControlName="name" />
                </mat-form-field>
              <!-- </div> -->

              <!-- <div > -->
                <mat-form-field class="ingredient-qty" appearance="fill">
                  <mat-label>Quantity: </mat-label>
                  <input matInput type="number" formControlName="quantity" />
                </mat-form-field>
              <!-- </div> -->

              <!-- <div > -->
                <mat-form-field class="ingredient-units" appearance="fill">
                  <mat-label>Units: </mat-label>
                  <mat-select formControlName="unit">
                    <mat-option value="grams">
                      Grams
                    </mat-option>
                    <mat-option value="pieces">
                      Pieces
                    </mat-option>
                    <mat-option value="units">
                      Units
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              <!-- </div> -->
              <div class="ingredient-form-remove-btn">
                <button mat-mini-fab color="warn" aria-label="remove" (click)="removeIngredient(i)">ðŸ’£</button>
              </div>
            </form>
          </div>
        </div>
        <button mat-raised-button color="accent" type="submit" [disabled]="!form.valid">Save Recipe</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>